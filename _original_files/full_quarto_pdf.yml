project:
  type: book
  output-dir: _book

execute:
  freeze: false
  echo: false
  warning: false
  fig-process: pdfcrop

format:
  pdf: 
    documentclass: scrreprt
    pdf-engine: xelatex
    fig-crop: true
    fig-pos: 'H'
    keep-tex: true
    toc: true
    toc-depth: 2 
    lof: false
    fontsize: 12pt
    # fig-format: "pdf"
    geometry:
      - a4paper
      # - showframe
      # - inner=3cm
      # - outer=4cm
      - top=2cm
      - bottom=1cm
      - left=2.5cm
      - right=2.2cm
      - footskip=0.7cm
#    mainfont: "Cambria"
    
    # template-partials:
    #   - toc.tex
    
    include-in-header:
      - text: |
      
          \usepackage{xcolor}    % Enables text color customization
          \definecolor{PRBBlue}{HTML}{2F5496} % Define PRB blue color

          % Load tocloft package for TOC customization
          \usepackage{tocloft}

          % custom toc moved to toc.tex
          
          % --------------------- COVER PAGE ---------------------

          \usepackage{graphicx}  % Allows inserting images
          \usepackage{eso-pic}   % Enables full-page backgrounds
          \usepackage{everypage} % Alternative package for first-page modifications
          % \usepackage{hyperref}  % Enables hyperlinks
          % \hypersetup{colorlinks=true, urlcolor=blue} % Set hyperlinks to be blue and underlined
          
          % --------------------- BODY ---------------------
          \usepackage{array} % Add advanced table formatting
          % \newcolumntype{P}[1]{>{\raggedright\arraybackslash}p{#1}} % Left-aligned column without word breaking          
          
          \usepackage{float} % Allows [H] placement option

          \usepackage{textcomp}       % Additional text symbols
          \usepackage{amssymb}        % Enable ✓ and ✘ symbols
          \setmainfont{Cambria}        % Set Cambria as the main font  
          \newfontfamily{\symbolfont}{Segoe UI Symbol} % Set fallback for symbols
          \DeclareTextFontCommand{\textsymbol}{\symbolfont} % Define fallback symbol command          

          % Define commands for green ticks and red crosses
          \newcommand{\tick}{\textcolor{green}{\textsymbol{✓}}}
          \newcommand{\cross}{\textcolor{red}{\textsymbol{✘}}}          

          
          % Load titlesec package for section formatting
          % \usepackage{titlesec}
          \usepackage{needspace} % to avoid orphan titles
          

          % --------------------- CHAPTER STYLING ---------------------
          % --- Heading fonts/colors (KOMA-Script; no titlesec) ---
          \definecolor{CHAPBLUE}{HTML}{0050A0}
          \definecolor{SECBLUE}{HTML}{2C5EBD}
          \definecolor{SUBSECBLUE}{HTML}{7D9FE0}
          
          % Point fontspec at your per-user fonts folder
          \newfontfamily\aptos{Aptos}[
            Path = C:/Users/oaolive/AppData/Local/Microsoft/Windows/Fonts/,
            Extension = .ttf,
            UprightFont = Aptos,
            BoldFont = Aptos-Bold,
            ItalicFont = Aptos-Italic,
            BoldItalicFont = Aptos-Bold-Italic
          ]
          
          \newfontfamily\aptosDisplay{Aptos Display}[
            Path = C:/Users/oaolive/AppData/Local/Microsoft/Windows/Fonts/,
            Extension = .ttf,
            UprightFont = Aptos-Display,
            BoldFont = Aptos-Display-Bold,
            ItalicFont = Aptos-Display-Italic,
            BoldItalicFont = Aptos-Display-Bold-Italic
          ]   
          
          % Chapter: Aptos, 16pt, uppercase, color, spacing, new page
          
          \RedeclareSectionCommand[
            beforeskip=18pt,
            afterskip=2pt
          ]{chapter}
          \setkomafont{chapter}{\aptos\bfseries\fontsize{16pt}{18pt}\selectfont\color{CHAPBLUE}\MakeUppercase}
          \renewcommand*\chapterpagestyle{plain} % optional; keep page style consistent
          % KOMA chapters already start new page in scrreprt/scrbook.
          
          % Section: Aptos, 14pt, spacing, color
          \RedeclareSectionCommand[
            beforeskip=4pt,
            afterskip=6pt
          ]{section}
          \setkomafont{section}{\aptos\mdseries\fontsize{14pt}{16pt}\selectfont\color{SECBLUE}}
          
          % Subsection: Aptos, 12pt, spacing, color
          \RedeclareSectionCommand[
            beforeskip=10pt,
            afterskip=6pt
          ]{subsection}
          \setkomafont{subsection}{\aptos\mdseries\fontsize{12pt}{14pt}\selectfont\color{SUBSECBLUE}}

          % --------------------- BIGGER TEXT COMMAND ---------------------
          \newcommand{\biggertext}[1]{{\bfseries\fontsize{13pt}{15pt}\selectfont #1}}
          
          \usepackage{makecell} % Enables multiline table headers
          
 
book:
  title: "Performance Review Body"
  subtitle: "Monitoring Report" 
  author: "{{< var doc.country >}} - {{< var doc.year_report >}}"
  chapters:
    - index.qmd


